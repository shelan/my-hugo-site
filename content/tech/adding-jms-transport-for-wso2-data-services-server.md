+++
title = "Adding JMS transport for WSO2 Data Services Server"
date = 2012-03-01T05:00:00Z
updated = 2012-03-01T05:04:11Z
tags = ["wso2", "jms", "dss", "dataservices", "activemq"]
blogimport = true 
[author]
	name = "Shelan Perera"
	uri = "https://plus.google.com/110975611609309023449"
+++

<div dir="ltr" style="text-align: left;" trbidi="on">Pre requisites<br /><div><br /></div><div>1) <a href="http://wso2.com/products/data-services-server/" target="_blank">WSO2 DataServices Server&nbsp;</a></div><div>2)<a href="http://activemq.apache.org/" target="_blank"> Apache ActiveMQ</a>&nbsp;</div><div><br /></div><div>1) Configuring JMS transport.</div><div><ul style="text-align: left;"><li>After extracting Data Services Binary navigate to {DSS-HOME}/repository/conf</li><li>Open axis2.xml in your editor</li><li>Uncomment the following section</li></ul><div><b>for Transport Listner</b></div></div><pre class="brush:js;"> &lt;!--Uncomment this and configure as appropriate for JMS transport support, after setting up your JMS environment (e.g. ActiveMQ)--&gt;<br />    &lt;transportReceiver name="jms" class="org.apache.axis2.transport.jms.JMSListener"&gt;<br />        &lt;parameter name="myTopicConnectionFactory" locked="false"&gt;<br />         &lt;parameter name="java.naming.factory.initial" locked="false"&gt;org.apache.activemq.jndi.ActiveMQInitialContextFactory&lt;/parameter&gt;<br />         &lt;parameter name="java.naming.provider.url" locked="false"&gt;tcp://localhost:61616&lt;/parameter&gt;<br />         &lt;parameter name="transport.jms.ConnectionFactoryJNDIName" locked="false"&gt;TopicConnectionFactory&lt;/parameter&gt;<br />  &lt;parameter name="transport.jms.ConnectionFactoryType" locked="false"&gt;topic&lt;/parameter&gt;<br />        &lt;/parameter&gt;<br /><br />        &lt;parameter name="myQueueConnectionFactory" locked="false"&gt;<br />         &lt;parameter name="java.naming.factory.initial" locked="false"&gt;org.apache.activemq.jndi.ActiveMQInitialContextFactory&lt;/parameter&gt;<br />         &lt;parameter name="java.naming.provider.url" locked="false"&gt;tcp://localhost:61616&lt;/parameter&gt;<br />         &lt;parameter name="transport.jms.ConnectionFactoryJNDIName" locked="false"&gt;QueueConnectionFactory&lt;/parameter&gt;<br />  &lt;parameter name="transport.jms.ConnectionFactoryType" locked="false"&gt;queue&lt;/parameter&gt;<br />        &lt;/parameter&gt;<br /><br />        &lt;parameter name="default" locked="false"&gt;<br />         &lt;parameter name="java.naming.factory.initial" locked="false"&gt;org.apache.activemq.jndi.ActiveMQInitialContextFactory&lt;/parameter&gt;<br />         &lt;parameter name="java.naming.provider.url" locked="false"&gt;tcp://localhost:61616&lt;/parameter&gt;<br />         &lt;parameter name="transport.jms.ConnectionFactoryJNDIName" locked="false"&gt;QueueConnectionFactory&lt;/parameter&gt;<br />  &lt;parameter name="transport.jms.ConnectionFactoryType" locked="false"&gt;queue&lt;/parameter&gt;<br />        &lt;/parameter&gt;<br />    &lt;/transportReceiver&gt;</pre><b>For Transport Sender</b><br /><pre class="brush:js;"> &lt;!-- uncomment this and configure to use connection pools for sending messages--&gt;<br />     &lt;transportSender name="jms" class="org.apache.axis2.transport.jms.JMSSender"/&gt;</pre><ul style="text-align: left;"><li>Add the <a href="http://www.box.com/s/mkv0ea167sz9cqm069m0" target="_blank">required jars</a> to &lt;DSS_HOME&gt;/repository/components/lib folder.&nbsp;</li><li>Start ActiveMQ using command "<b>sh &lt;ActiveMQ_HOME&gt;/bin/activemq start</b>"</li></ul><div><br />You can explore your ActiveMQ queues for services using JConsole. ( Type Jconsole in linux shell.)</div></div>
